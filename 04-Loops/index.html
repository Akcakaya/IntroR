<!DOCTYPE html>
<html>
<head>
  <title>For Loops</title>
  <meta charset="utf-8">
  <meta name="description" content="For Loops">
  <meta name="author" content="Ben Weinstein">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
    <link rel="stylesheet" href = "assets/css/ribbons.css">

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
    <!-- END LOGO SLIDE -->
    

    <!-- TITLE SLIDE -->
    <!-- Should I move this to a Local Layout File? -->
    <slide class="title-slide segue nobackground">
      <hgroup class="auto-fadein">
        <h1>For Loops</h1>
        <h2>Flow Statements</h2>
        <p>Ben Weinstein<br/></p>
      </hgroup>
          </slide>

    <!-- SLIDES -->
      <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h1>For loops</h1>
  </hgroup>
  <article>
    <p>Loops are an important programming tool. The first loop we will learn is a <strong>for loop</strong>. for loops run for a certain number of steps, which you define, during which any statements in the loop are executed.</p>

<p>The basic syntax is</p>

<p><em>for(some sequence of steps)</em></p>

<p>{</p>

<p>execute some statements</p>

<p>}</p>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h1>Why use a for loop?</h1>
  </hgroup>
  <article>
    <ol class = "build">
<li>We have a repeated process with indentical formatting, but different values.</li>
<li>To avoid laborious typing into R</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Our first loop</h2>
  </hgroup>
  <article>
    <h1>for(i in 1:5){</h1>

<p>i starts at 1, R will execute some statements; i is incremented to i = 2 and statements are executed again; i is incremented to i=3 and statements are executed; and so on, until i = 25, at which point the loop executes the set of statements for the last time.</p>

<h1>}</h1>

<pre><code class="r">for (i in 1:5) {
    print(i)
}
</code></pre>

<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Syntax </h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;' class='centered'>
  <p>Keep these straight: Be sure you distinguish between curly braces {}, parentheses ( ), and square brackets [ ]. The brackets are used to access <em>elements</em> of vectors, matrices, and dataframes. The parentheses are used to specify arguments to <em>functions</em>. Finally, the curly braces enclose statements to be executed within the body of a <em>loop</em>.</p>

<pre><code class="r">x &lt;- 1:10
x[6]
</code></pre>

<pre><code>## [1] 6
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">sum(x)
</code></pre>

<pre><code>## [1] 55
</code></pre>

<pre><code class="r">for (i in 1:3) {
    print(i)
}
</code></pre>

<pre><code>## [1] 1
## [1] 2
## [1] 3
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h1>Using a for loop</h1>
  </hgroup>
  <article>
    <pre><code class="r">x &lt;- 2
for (i in 1:4) {
    x &lt;- x^2
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2><strong>Try it!</strong></h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;' class='centered'>
  <ul>
<li>1. Create a for loop that prints numbers 1 to 100</li>
<li>2. Create a for loop that prints numbers 100 to 1</li>
<li>3. Create a for loop that adds x + 1 to numbers 1:5</li>
</ul>


</div>
<div style='float:right;width:48%;'>
  <ul>
<li>4. Create a for loop that divides all even numbers from 0-20 by 10 
(<strong>consider using seq()</strong>)</li>
<li>5. Bonus! What would be the final value here, witout trying it!</li>
</ul>

<pre><code class="r">dogs &lt;- 10
for (i in 1:5) {
    dogs &lt;- dogs + 1
}
</code></pre>

<ul>
<li>Why?</li>
</ul>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>For Loops and Vectors</h2>
  </hgroup>
  <article>
    <p>In the above examples, we used i directly in several mathematical operations. But it is more common to loop over elements of a vector to accomplish some particular task.</p>

<pre><code class="r">nameVector &lt;- c(&quot;Charlie&quot;, &quot;Helga&quot;, &quot;Clancy&quot;, &quot;Matilda&quot;, &quot;Jones&quot;)
for (i in 1:length(nameVector)) {
    print(paste(&quot;Nice to meet you&quot;, nameVector[i], &quot; &quot;))
}
</code></pre>

<pre><code>## [1] &quot;Nice to meet you Charlie  &quot;
## [1] &quot;Nice to meet you Helga  &quot;
## [1] &quot;Nice to meet you Clancy  &quot;
## [1] &quot;Nice to meet you Matilda  &quot;
## [1] &quot;Nice to meet you Jones  &quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>What did that really do?</h2>
  </hgroup>
  <article>
    <p>Consider the loop in pieces</p>

<pre><code class="r"># How many positions are in nameVector
length(nameVector)
</code></pre>

<pre><code>## [1] 5
</code></pre>

<pre><code class="r">
# how do we index a vector
nameVector[1]
</code></pre>

<pre><code>## [1] &quot;Charlie&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>What did that really do?</h2>
  </hgroup>
  <article>
    <pre><code class="r">paste(&quot;Nice to meet you&quot;, nameVector[1], sep = &quot; &quot;)
</code></pre>

<pre><code>## [1] &quot;Nice to meet you Charlie&quot;
</code></pre>

<pre><code class="r"># loops are their own little environments, so print() so you can see them on
# your console.
nameVector &lt;- c(&quot;Charlie&quot;, &quot;Helga&quot;, &quot;Clancy&quot;, &quot;Matilda&quot;, &quot;Jones&quot;)
for (i in 1:length(nameVector)) {
    print(paste(&quot;Nice to meet you&quot;, nameVector[i], &quot; &quot;))
}
</code></pre>

<pre><code>## [1] &quot;Nice to meet you Charlie  &quot;
## [1] &quot;Nice to meet you Helga  &quot;
## [1] &quot;Nice to meet you Clancy  &quot;
## [1] &quot;Nice to meet you Matilda  &quot;
## [1] &quot;Nice to meet you Jones  &quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2><strong>Try it!</strong></h2>
  </hgroup>
  <article>
    <ul>
<li>1. Create a vector of names of people in your row, write them a nice message</li>
<li>2. Explain why the following code is wrong</li>
</ul>

<p>for(x in 1:10) {
  print(sum(i))
}</p>

<ul>
<li>3. Create a vector of 1:10 and a vector of 31:40. Add the first elements of each vector together.</li>
</ul>

<div style='float:left;width:48%;' class='centered'>
  
</div>
<div style='float:right;width:48%;'>
  
</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Syntax of lists</h2>
  </hgroup>
  <article>
    <p>One can think of lists as vertical vectors.</p>

<pre><code class="r"># For a vector
x &lt;- c(1, 2, 3, 4, 5)
x[3]
</code></pre>

<pre><code>## [1] 3
</code></pre>

<pre><code class="r"># For a List
a &lt;- list(1, 2, 3, 4, 5)
a[[3]]
</code></pre>

<pre><code>## [1] 3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h1>Why use a list? A Brief Tangent</h1>
  </hgroup>
  <article>
    <p>A list is a generic vector containing other objects.
For example, x is a list containing three vectors n, s, b, and a numeric 3.</p>

<pre><code class="r">n = c(2, 3, 5)
s = c(&quot;aa&quot;, &quot;bb&quot;, &quot;cc&quot;, &quot;dd&quot;, &quot;ee&quot;)
b = c(TRUE, FALSE, TRUE, FALSE, FALSE)
x = list(n, s, b, 3)  # x contains copies of n, s, b
x
</code></pre>

<pre><code>## [[1]]
## [1] 2 3 5
## 
## [[2]]
## [1] &quot;aa&quot; &quot;bb&quot; &quot;cc&quot; &quot;dd&quot; &quot;ee&quot;
## 
## [[3]]
## [1]  TRUE FALSE  TRUE FALSE FALSE
## 
## [[4]]
## [1] 3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h1>List Slicing</h1>
  </hgroup>
  <article>
    <p>We retrieve a list slice with the single square bracket &quot;[]&quot; operator. </p>

<pre><code class="r">x[2]
</code></pre>

<pre><code>## [[1]]
## [1] &quot;aa&quot; &quot;bb&quot; &quot;cc&quot; &quot;dd&quot; &quot;ee&quot;
</code></pre>

<pre><code class="r"># With an index vector, we can retrieve a slice with multiple members.
x[c(2, 4)]
</code></pre>

<pre><code>## [[1]]
## [1] &quot;aa&quot; &quot;bb&quot; &quot;cc&quot; &quot;dd&quot; &quot;ee&quot;
## 
## [[2]]
## [1] 3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h1>List Reference</h1>
  </hgroup>
  <article>
    <p>In order to reference a list member directly, we have to use the double square bracket &quot;[[]]&quot; operator. </p>

<pre><code class="r">x[[2]]
</code></pre>

<pre><code>## [1] &quot;aa&quot; &quot;bb&quot; &quot;cc&quot; &quot;dd&quot; &quot;ee&quot;
</code></pre>

<pre><code class="r"># We can modify its content directly.
x[[2]][1] = &quot;ta&quot;
x[[2]]
</code></pre>

<pre><code>## [1] &quot;ta&quot; &quot;bb&quot; &quot;cc&quot; &quot;dd&quot; &quot;ee&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h1>How do we save loop outputs</h1>
  </hgroup>
  <article>
    <p>Instead of printing to the screen, we usually want to create an object with the outputs on the loop. In general, we do do this either with a vector, or with a list.</p>

<pre><code class="r"># Create an blank output
outputs &lt;- list()

for (x in 1:5) {
    outputs[[x]] &lt;- x * 10
}
outputs
</code></pre>

<pre><code>## [[1]]
## [1] 10
## 
## [[2]]
## [1] 20
## 
## [[3]]
## [1] 30
## 
## [[4]]
## [1] 40
## 
## [[5]]
## [1] 50
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2><strong>Try it!</strong></h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;' class='centered'>
  <ul>
<li>1. Create a for loop that computes x * 2 for 1:100, and place the output in a vector</li>
<li>2. Create a for loop that computes x * 2 for 1:100, and place the output in a list</li>
<li>3. How do we get the 47th position in question 1 and 2?</li>
</ul>


</div>
<div style='float:right;width:48%;'>
  <ol>
<li>What does this code do?</li>
</ol>

<pre><code class="r">output &lt;- list()
for (x in 1:10) {
    output[1] &lt;- sum(x + x^2)
}
</code></pre>

<ol>
<li>What does this code do?</li>
</ol>

<pre><code class="r">output2 &lt;- list()
for (x in 1:11) {
    output2[x + 1] &lt;- sum(x + x^2)
}
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Flow Statements</h2>
  </hgroup>
  <article>
    <p>Often, we want to control for loops to account for variables, options, and logical statements</p>

<p>Let&#39;s begin with the if statement:</p>

<pre><code class="r">for (x in 1:5) {
    if (x &gt; 3) {
        print(paste(x, &quot;is greater than 3&quot;))
    }
    if (x &lt;= 3) {
        print(paste(x, &quot;is less than or equal to 3&quot;))
    }
}
</code></pre>

<pre><code>## [1] &quot;1 is less than or equal to 3&quot;
## [1] &quot;2 is less than or equal to 3&quot;
## [1] &quot;3 is less than or equal to 3&quot;
## [1] &quot;4 is greater than 3&quot;
## [1] &quot;5 is greater than 3&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Controlling Flow - Break</h2>
  </hgroup>
  <article>
    <p>Often we need to handle logical cases within a loop; we can end a loop running based on an <em>if</em> and <em>break</em> statement</p>

<pre><code class="r">for (x in 1:5) {
    if (x &gt; 3) {
        break
    }
    if (x &lt;= 3) {
        print(paste(x, &quot;is less than or equal to 3&quot;))
    }
}
</code></pre>

<pre><code>## [1] &quot;1 is less than or equal to 3&quot;
## [1] &quot;2 is less than or equal to 3&quot;
## [1] &quot;3 is less than or equal to 3&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h1>Controlling Flow - Next</h1>
  </hgroup>
  <article>
    <p>Sometimes we don&#39;t want to break the statement, just skip a troublesome object or R that we know will cause an error. We can continue within a loop running based on an <em>if</em> and <em>next</em> statement. Here we want to skip 4. </p>

<pre><code class="r">for (x in 1:5) {
    if (x == 4) {
        next
    }
    if (x &gt; 3) {
        print(paste(x, &quot;is greater than 3&quot;))
    }
    if (x &lt;= 3) {
        print(paste(x, &quot;is less than or equal to 3&quot;))
    }
}
</code></pre>

<pre><code>## [1] &quot;1 is less than or equal to 3&quot;
## [1] &quot;2 is less than or equal to 3&quot;
## [1] &quot;3 is less than or equal to 3&quot;
## [1] &quot;5 is greater than 3&quot;
</code></pre>

<div style='float:left;width:48%;' class='centered'>
  
</div>
<div style='float:right;width:48%;'>
  
</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2><strong>Try it!</strong></h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;' class='centered'>
  <ol>
<li><p>Create a for loop that computes x * 2 for 1:100, and place the output in a vector. However, make just the values of x=32 and x=67 x *3</p></li>
<li><p>Create a for loop that computes x * 2 for 1:100, and place the output in a list. However, break the loop after 51 iterations</p></li>
<li><p>Create a for loop that computes x * 2 for 1:100, and place the output in a list. However, skip x= 71, 74. How can you show that you suceeded? </p></li>
</ol>


</div>
<div style='float:right;width:48%;'>
  <ol>
<li>Why does this code fail?</li>
</ol>

<pre><code class="r">for (x in 1:5) {
    if (x &lt;= 4) {
        print(paste(x, &quot;is less than or equal to 4&quot;))
    }
    # Kill the loop after x=3
    if (x &gt; 3) {
        break
    }
}
</code></pre>

<ol>
<li>Create a for loop that computes x * 2 for 1:100, and place the output in a list. However, break the loop when the  square root of the output of a statement is greater than 8.4. What is the last x value reported?</li>
</ol>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>

  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
<!-- Grab CDN jQuery, fall back to local if offline -->
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
<script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery-1.7.min.js"><\/script>')</script>
<!-- Load Javascripts for Widgets -->
<!-- LOAD HIGHLIGHTER JS FILES -->
<script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- DONE LOADING HIGHLIGHTER JS FILES -->
</html>